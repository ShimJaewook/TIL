# JUnit을 사용한 기본 테스트 코드

<br>

### 1. JUnit 개요

스프링 프레임워크를 사용하거나 다른 어플리케이션을 개발할 때, 여러 객체와 로직들이 복합적으로 얽혀있는 경우가 대다수다.

예를 들어 REST API로 요청을 받아 DB에 저장하는 경우, 외부로부터 입력을 받아 그 결과물 또한 외부로 나타난다.

 때문에 코드가 잘 돌아가는지 확인하기 위해서는 그 흐름을 모두 완성하여 입출력을 확인하고 코드가 수정될 때마다 서버를 재시작해야 하는 번거로움이 있.

이게 개발하는 도중에 여간 귀찮은 일이 아니다. 

`JUnit`은 모듈이나 애플리케이션 안에 있는 개별적인 코드 단위가 예상대로 작동하는지 확인하는지, 즉 단위 테스트를 도와주기 위한 자바의 xUnit 프레임워크이다.

**xUnit** 프레임워크는 가장 대중적인 테스트프레임워크로 개발환경(x)에 따라 Unit(단위) 테스트를 도와주 는도구이다.

`C++`은 **CppUnit** , `.net`은 **NUnit** 이런식으로.

JUnit의가장최신버전은 JUnit5이지만 아직 JUnit4가 대중적으로 많이 사용되기 때문에 본 글에서는 JUnit4로 테스트 코드를 작성할 것이다.

<br>

### 2. 단위 테스트 vs TDD

스프링부트 스터디를 할 때, JUnit을 처음 접했다.

한창 취준에 환장하고 있던 나는 'JUnit 쓰면 면접에서 TDD 써봤다고 말할수 있어요?'라고 물었었는데 현직자들이 봤을 때 좀 우스웠을거 같다.

결론부터 말하면 **TDD와 단위테스트는 다른 이야기이다.**

TDD는 테스트 주도 개발로 **테스트 코드를 먼저 작성하는 것**부터 시작한다.

아래는 TDD를 설명할 때 자주 쓰이는 레드 그린 사이클이다.

<br>

![레드 그린 사이클](./src/tdd.gif)

1. 항상 실패하는 테스트를 먼저 작성하고(RED)

2. 테스트가 통과하는 프로덕션 코드를 작성하고(Green)

3. 테스트가 통과하면 프로덕션 코드를 리팩토링한다.(Refactor)

<br>

반면 단위 테스트는 TDD의 첫 번째 단계인 **기능 단위의 테스트 코드를 작성**하는 것을 이야기한다. TDD와 달리 테스트 코드를 꼭 먼저 작성해야 하는 것도 아니고  리펙토링도 포함되지 않는다. 

즉, TDD와 단위테스트는 별개의 것이고, TDD의 과정 중 단위 테스트가 포함될 수 있다.
그리고 `JUnit`은 단위 테스트를 위한 도구이다.

TDD에 관한 자세한 내용은 기회가 될 때 다시 써보기로 하자.

<br>

### 3. 단위 테스트의 이점

- 개발단계 초기에 문제를 발견하게 도와준다.

- 개발자가 나중에 코드를리팩토링하거나 라이브러리 업그레이드 등에서 기존 기능이 올바르게 작동하는지 확인할 수 있다. (예.  회귀 테스트)

- 기능에 대한 불확실성을 감소시킬 수 있다.

- 시스템에 대한 실제 문서를 제공한다. 즉, 단위 테스트 자체가 문서로 사용할 수 있다.

<br>

### 4. 